# 卡牌升級系統設計

*建立日期：2026-02-11*

---

## 一、核心概念：升級 = 學習

卡牌升級不是獨立機制，而是直接等同於熟練度提升。升級一張卡 = 對該單字進行強化複習。

---

## 二、休息站三選一

| 選項 | 效果 | 與學習的關係 |
|------|------|------------|
| **回血** | 回復 30% 最大 HP | 純生存選擇 |
| **升級卡牌** | 選 1 張卡，立即答題 3 次 | 直接提升熟練度 |
| **學新字** | 從未學池 3 選 1，首次答題 | 解鎖新卡牌加入牌組 |

三個選項的抉擇：短期生存 vs 強化現有卡 vs 擴展牌組。

---

## 三、升級流程

### 步驟

1. 選擇「升級卡牌」
2. 從當前牌組中選 1 張卡
3. 連續進行 3 次答題（難度依當前熟練度）
4. 依答對次數計算結果

### 答題結果

| 答對次數 | 結果 | 說明 |
|---------|------|------|
| 3/3 | 熟練度 +1 | 完美複習，完整升級 |
| 2/3 | 熟練度 +1，複習間隔不延長 | 升級但需要更快複習 |
| 1/3 | 熟練度不變，重置複習計時器 | 沒有退步，但重新計時 |
| 0/3 | 熟練度 -1 | 完全忘記，退步 |

### 答題模式

答題模式依當前熟練度決定（與戰鬥中答題一致）：
- Lv.1-2：識讀模式
- Lv.3-4：識讀 + 聽力混合
- Lv.5-6：聽力 + 拼字混合
- Lv.7：不可升級（已內化）

### 升級對卡牌的影響

熟練度提升後，卡牌獲得兩項增益：

1. **效果倍率提升**（依標準值體系）：
   - Lv.1-2：×1.0
   - Lv.3-4：×1.1
   - Lv.5-6：×1.2
   - Lv.7：×1.3

2. **答題機率降低**（戰鬥中更快打出）：
   - Lv.1：100% 需答題
   - Lv.3：60%
   - Lv.5：20%
   - Lv.7：0%（自動發動）

---

## 四、策略考量

### 升級哪張卡？

玩家需要考慮：
- **高頻使用卡**：升級後戰鬥中更常免答題打出
- **核心協同卡**：升級後效果更強，協同鏈更穩定
- **接近升級門檻的卡**：Lv.4→5 跳躍最大（答題率 40%→20%，倍率 1.1→1.2）

### 風險

- 0/3 答對會退步，選擇不熟的卡升級有風險
- 但正是這個風險驅動真正的學習——玩家會主動複習不確定的單字

---

## 五、與 SM-2 的整合

休息站升級的答題結果直接寫入 SM-2 演算法：
- 答對視為 quality 4-5（依速度）
- 答錯視為 quality 1-2
- 影響 easeFactor 和 nextReviewTime

這確保遊戲內的升級行為與長期記憶曲線完全同步。

---

*本文件為卡牌升級系統的設計依據。升級機制與熟練度系統完全統一，不引入額外的升級軌道。*
