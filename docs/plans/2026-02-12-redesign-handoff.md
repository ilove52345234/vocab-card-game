# Vocab Card Game v2 — 重新設計交接文件

> 本文件供接手的 AI Agent 使用，包含完整的分析背景、設計方向決策、保留/捨棄清單。

---

## 一、背景：為什麼要打掉重做

### 1.1 原專案概述

原專案是「英文單字卡牌肉鴿遊戲」，結合殺戮尖塔（Slay the Spire）戰鬥機制與 SM-2 間隔重複學習。

- 完整設計文件：`docs/plans/2026-02-06-game-design.md`
- GitHub: https://github.com/ilove52345234/vocab-card-game
- 技術棧：Unity 2022.3 LTS / C# / SQLite + JSON / 手機平台
- 已有程式碼在 `Assets/Scripts/` 下（Core, Data, Combat, Learning）

### 1.2 問題診斷（來自三篇 Balatro 設計分析文章）

我們參考了三篇深度分析 Balatro 成功原因的文章（存放於 `docs/reference/zhihu-650859964/`）：

| 文件 | 來源 | 核心觀點 |
|------|------|---------|
| 01.pdf | 知乎 Paranoia | 超級概念、Build 結構對比殺戮尖塔、隨機性=賭博樂趣、手遊化警告 |
| 02.pdf | 機核 GCORES | Rogue 底層是算法不是機制、賭徒心理（沉沒成本/損失厭惡）、節奏設計（5分鐘/回合） |
| 03.pdf | 雲狐之境 | 精密數值設計（每個基礎數字都在質變點前一步）、經濟系統、難度要做加法不做減法 |

**三篇文章一致揭示的 Balatro 成功公式：**

```
極簡的戰鬥驗證 + 複雜的 Build 構築 + 熟悉的超級概念 = 上癮
```

- 得分 = 籌碼 × 倍率（全遊戲只需理解這一個公式）
- Build 層級比殺戮尖塔更複雜（小丑牌 × 版本 × 增強 × 蜡封 × 牌型強化 × 優惠券）
- 「打撲克牌」是全球通用的超級概念，學習成本為零

### 1.3 原設計的五大致命問題

| # | 問題 | 說明 |
|---|------|------|
| 1 | **沒有超級概念** | 五大元素（Life/Force/Mind/Matter/Abstract）是原創概念，學習成本高。「背單字」是痛苦聯想，不是快感聯想 |
| 2 | **戰鬥驗證太複雜** | 殺戮尖塔式回合制戰鬥（能量、格擋、狀態效果、姿態系統…）+ 三種答題模式 + 七級熟練度 + SM-2 記憶曲線，認知負荷爆炸 |
| 3 | **答題打斷心流** | 每出一張牌都可能觸發答題→打斷戰鬥節奏。Balatro 每回合 5 分鐘無中斷，我們的設計相當於每打一手牌先做考試題 |
| 4 | **缺乏賭博/隨機的爽感** | SM-2 讓複習精確可預測、熟練度線性累積、沒有「胡了」的質變爽點。肉鴿的樂趣來自有意義的隨機，我們消除了隨機 |
| 5 | **數值體感差** | 線性成長（Lv.0→Lv.7），答對題的獎勵是微小的百分比加成（+5%、+10%），缺乏 Balatro 那種指數成長的正反饋 |

---

## 二、設計方向決策（已確定）

### 2.1 核心路線：Balatro 路線

**已由用戶確認選擇此方向。**

- 極簡戰鬥驗證（答題/組合 = 得分）
- 複雜 Build 構築（卡牌組合 = 策略深度）
- 學習是自然發生的副產品，不是被強迫的主要活動

### 2.2 超級概念：單字卡組合（類似撲克牌型）

**已由用戶確認選擇此方向。**

- 雙維度：**元素（5種）= 花色** + **詞性（4種）= 點數**
- 10 種牌型（從「單字」到「語序同族」），詳見 `docs/plans/2026-02-12-v2-core-design.md`
- 得分 = (牌型籌碼 + 卡牌籌碼) × (倍率) × 乘算倍率

### 2.3 學習系統：融入局內，不是考試

**已由用戶確認：學習必須在局內發生，但不打斷心流。**

核心機制：**學習 = 遊戲操作本身**

1. **出牌即答題**：打出卡牌時依學習等級答題（Lv.0 四選一、Lv.1 二選一、Lv.2 聽力、Lv.3 拼字、Lv.4 免答）
2. **答錯不破壞牌型**：答錯的卡仍計入牌型，只是籌碼降為 50%
3. **賭狗三選一**：答錯後可選「接受損失」/「花 $2 重答」/「50/50 賭一把」
4. **連錯兜底**：連錯 3 題降為二選一，連錯 5 題全部變二選一
5. **學習升級**：Lv.0→1 打出 3 次、Lv.1→2 商店聽力 $3、Lv.2→3 商店拼字 $5、Lv.3→4 累計答對 20 次
6. **遺忘曲線**：Lv.1-3 有複習間隔（1/3/7 天），超時降級，Lv.4 永不退化
7. **Lv.4 精通加速**：精通的卡免答，遊戲自然加速，越多精通卡節奏越快

完整設計見 `docs/plans/2026-02-12-v2-core-design.md`

---

## 三、保留/捨棄清單

### 3.1 保留（可沿用到新設計）

| 項目 | 原位置 | 保留理由 |
|------|--------|---------|
| 技術棧 | Unity 2022.3 LTS / C# | 無需更換 |
| 美術方案 | AI 生成 + 後製 | 成本低、可行 |
| 單字資料結構 | `Assets/Resources/Data/words.json` | 詞庫數據可複用 |
| 五大元素概念 | Life/Force/Mind/Matter/Abstract | 作為卡牌的「花色」維度保留，但需降低學習成本 |
| 詞性分類 | 名詞/動詞/形容詞/副詞 | 作為卡牌的第二維度（類似撲克的「點數」） |
| 字根字首字尾系統 | `docs/plans/2026-02-11-relic-system-design.md` | 可作為 Build 層級之一（類似 Balatro 的小丑牌/優惠券） |
| 詞族進化概念 | `docs/plans/2026-02-11-card-upgrade-system.md` | 可轉化為卡牌強化機制 |
| 平台目標 | 手機（iOS/Android） | 不變 |
| 離線單機 | 無後端 | 不變 |
| SQLite + JSON 儲存 | 本地 | 不變 |

### 3.2 捨棄（不帶入新設計）

| 項目 | 捨棄理由 |
|------|---------|
| 殺戮尖塔式回合制戰鬥 | 太複雜，違反「極簡戰鬥驗證」原則 |
| 能量系統 | 不需要，新設計用出牌次數/棄牌次數 |
| 格擋/HP/敵人意圖 | 改為純數值驗證（得分 vs 目標分數） |
| 三種答題模式（識讀/聽力/拼字）作為必要機制 | 答題不應打斷心流，可改為可選加分 |
| SM-2 間隔重複作為核心系統 | 太精確、消除隨機性。可保留概念但不作為玩法核心 |
| 七級熟練度系統 | 過於複雜。簡化為 2-3 級即可 |
| 姿態系統 | 過度設計 |
| 狀態效果互動（燃燒+油膩=爆炸等） | 過度設計 |
| 卡牌連鎖系統 | 過度設計 |
| 能量操控系統 | 過度設計 |
| RPG 角色屬性（INT/STR/CON/AGI/LCK） | 過度設計，違反極簡原則 |
| 資源媒介式協同（六種資源） | 概念可保留但需大幅簡化 |
| 敵人/精英怪/Boss 戰鬥設計 | 無敵人，改為目標分數 |
| 弱點與抗性系統 | 不需要 |

### 3.3 需要重新設計

| 項目 | 設計方向 |
|------|---------|
| **核心循環** | 出牌（組合單字）→ 得分 → 商店（Build 構築）→ 下一關（目標分數提高）|
| **牌型系統** | 定義單字的組合方式和對應分數（類似撲克牌型），需要設計什麼維度組合什麼牌型 |
| **得分公式** | 得分 = 基礎分 × 倍率（保持極簡，所有複雜度藏在 Build 裡） |
| **Build 層級** | 需要設計多層 Build（參考 Balatro：小丑牌 × 版本 × 增強 × 蜡封 × 優惠券 × 牌型強化） |
| **經濟系統** | 參考 Balatro 的金幣+利息+高價重擲設計 |
| **商店系統** | 取代原本的「書房」，更接近 Balatro 的商店 |
| **盲注/關卡結構** | 小盲注/大盲注/Boss 盲注，可跳過小盲注獲得標籤獎勵 |
| **隨機性設計** | 核心體驗。商店刷新、卡包開包、標籤獎勵都需要有意義的隨機 |
| **數值體系** | 指數成長，大方給值，讓玩家感知每樣東西都有用 |
| **遊戲節奏** | 目標單回合 3-5 分鐘，快速重開，低挫敗成本 |
| **學習融入方式** | 不打斷心流的自然學習，熟練度影響數值但不是考試 |

---

## 四、參考架構草案

以下是初步的架構想法，供接手 Agent 作為起點（非最終設計）：

### 4.1 核心公式

```
得分 = (基礎籌碼 + 單字籌碼加總) × (基礎倍率 + 倍率加成) × 乘數倍率
```

### 4.2 可能的牌型系統（待設計）

| 牌型概念 | 類比撲克 | 條件 | 基礎分 |
|---------|---------|------|--------|
| 單字 | 高牌 | 打出任意 1 張 | 低 |
| 同詞性對 | 對子 | 2 張同詞性 | 中低 |
| 同元素三張 | 三條 | 3 張同元素 | 中 |
| 詞性順序 | 順子 | 名→動→形→副（語法順序） | 中高 |
| 同元素同詞性 | 同花 | 全部同元素 | 高 |
| 同字首/字尾 | 葫蘆 | 共享詞根/字首/字尾 | 高 |
| ... | ... | ... | ... |

> 這只是初步方向，牌型系統是整個遊戲最核心的設計，需要深思熟慮。

### 4.3 Build 層級（待設計）

| 層級 | 類比 Balatro | 我們的版本 |
|------|------------|---------|
| 核心 Build | 小丑牌（被動效果） | 「語法卡」或「規則卡」（被動加成） |
| 卡牌強化 | 增強/蜡封/版本 | 單字卡的強化（閃卡/金卡等） |
| 牌型升級 | 星球牌升級牌型 | 某種升級牌型基礎分的機制 |
| 全局加成 | 優惠券 | 每大關可買一個的永久加成 |
| 牌組調整 | 塔羅牌改牌 | 修改單字卡屬性的消耗品 |

### 4.4 單字卡的維度

每張單字卡至少需要以下屬性來支撐牌型系統：

```
{
  "word": "fire",
  "meaning": "火",
  "element": "Force",        // 五大元素之一（類似花色）
  "partOfSpeech": "noun",    // 詞性（類似點數維度）
  "length": 4,               // 字母數（可能用於某些牌型）
  "prefix": null,            // 字首
  "suffix": null,            // 字尾
  "root": "fir",             // 字根
  "baseChips": 5,            // 基礎籌碼
  "familiarity": 0           // 熟悉度（玩過次數，影響數值）
}
```

---

## 五、關鍵設計原則（從三篇文章提煉）

接手 Agent 在做任何設計決策時，請對照以下原則：

### 5.1 Balatro 教我們的事

1. **簡單的戰鬥驗證 + 簡單的數值概念 = 敢做複雜 Build 體系的底氣**
2. **喜歡 = 熟悉 + 意外**（用熟悉的概念，做意外的組合）
3. **Rogue 的真正難點是算法**——在恰當的時候放置恰當的選項，不是設計足夠多的卡牌
4. **賭博和隨機是一體兩面**——如果可以定向就沒有賭博的樂趣
5. **遊戲節奏很快就會降低重開帶來的負面反饋**
6. **數值都給得很大方**——讓玩家感知每樣東西都有用，不要 +1% 這種無感加成
7. **指數成長**帶來立竿見影的正反饋
8. **難度要做加法增加深度，不要做減法限制策略**
9. **答對 = 額外獎勵（加法），答錯 = 正常效果（不懲罰）**
10. **BGM 不中斷、UI 一鏡到底、動效高度統一**

### 5.2 教育遊戲的額外原則

1. **學習是副產品，不是目的**——玩家以為自己在打牌，其實在背單字
2. **不考試**——不主動彈出題目打斷心流
3. **重複曝光 > 主動記憶**——反覆看到單字卡自然記住，比強制答題有效
4. **熟練度 = 數值獎勵**——玩過越多次的單字卡越強，內在動機驅動複習
5. **可選挑戰**——拼字/聽力作為加分項（如 Balatro 的跳過盲注），不是必要條件

---

## 六、原專案可複用的程式碼/資源

| 路徑 | 內容 | 可複用程度 |
|------|------|----------|
| `Assets/Resources/Data/words.json` | 單字資料庫 | 高——資料結構需擴充但核心可用 |
| `Assets/Resources/Data/cards.json` | 卡牌資料 | 低——需要完全重新設計 |
| `Assets/Resources/Data/enemies.json` | 敵人資料 | 無——新設計無敵人 |
| `Assets/Scripts/Data/` | 資料結構定義 | 中——Enums 和基礎結構可參考 |
| `Assets/Scripts/Core/` | GameManager 等 | 低——架構需重寫 |
| `Assets/Scripts/Learning/` | SM-2 學習系統 | 低——核心機制改變 |
| `Assets/Scripts/Combat/` | 戰鬥系統 | 無——完全不同的核心循環 |
| `docs/plans/2026-02-11-relic-system-design.md` | 字根字首字尾遺物設計 | 中——概念可轉化為 Build 層級 |
| `docs/plans/2026-02-11-card-upgrade-system.md` | 詞族進化系統 | 中——可轉化為卡牌強化 |

---

## 七、已完成與待辦

### 已完成的設計（見 `docs/plans/2026-02-12-v2-core-design.md`）

- ✅ 設計哲學與核心路線
- ✅ 雙維度系統（元素×詞性）
- ✅ 10 種牌型定義與基礎分數
- ✅ 語序鏈規則
- ✅ 得分公式
- ✅ 基礎規則（出牌/棄牌/手牌/牌組）
- ✅ 學習系統（4級揭露 + 出牌答題 + 賭狗懲罰 + 遺忘曲線）
- ✅ Build 層級（語感卡 + 教材卡 + 詞綴卡 + 課程卡 + 頓悟卡）

### 接手 Agent 的待辦任務

1. **設計經濟系統**——金幣來源、商店定價、利息機制、重擲成本
2. **設計盲注/Boss 機制**——每大關結構、Boss 特殊限制、跳過獎勵
3. **數值平衡**——目標分數曲線、成長速度、Build 強度測試
4. **設計商店系統**——商品種類、卡包、學習強化的具體互動
5. **設計局外 Meta 系統**——解鎖、牌組、難度、成就
6. **建立新專案或重構現有專案**

---

*文件建立日期：2026-02-12*
*建立者：Claude（英語教學者 + 遊戲設計者角色）*
*基於：三篇 Balatro 設計分析 + 原專案設計文件 + 用戶決策*
